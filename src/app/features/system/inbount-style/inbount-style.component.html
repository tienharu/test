<div id="content">
  <div class="row">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-8">
      <div>
        <h1 class="page-title"><i class="fa-fw fa fa-magic"></i>{{'RECEIPT_STYLE' | i18n}}</h1>
      </div>
    </div>
  </div>
  <form #dueOutMaterialForm="ngForm" (ngSubmit)="dueOutMaterialForm.form.valid && onSubmit()"
    class="smart-form atman-form-small no-header frm-due-out-material-detail" novalidate="novalidate"
    [saUiValidate]="validationOptions">
    <fieldset>
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-11 col-lg-11" style="margin-left: 4.1%; margin-top: 10px;">
          <section class="col-md-7">
            <section class="col col-6 margin-bottom-20" style="display: inline-flex !important;">
              <label class="label col-md-3" style="width:23%">{{'RECEIPT_DATE' | i18n}}</label>
              <div style="display: inline-flex !important; width:70%">
                <label class="input col-md-6" style="width: 45%;">
                  <i class="fa fa-calendar" id="start-date-calendar"></i>
                  <input id="date_created" type="text" class="form-control datepicker" placeholder="yyyy-MM-dd" name="poSheetYmd"
                         [(ngModel)]="inboundStyleHeaderModel.inboundYmd" [saUiDatepicker]="{}" autocomplete="off" required />
                </label>
                <label class="input state-disabled col-md-6" style="margin-left: 16px;">
                  <div (click)="showSearchInboundStyleHeaderPopup()">
                    <input type="text" class="main text-center" id="styleInboundNo" name="styleInboundNo" [(ngModel)]="inboundStyleHeaderModel.styleInboundNo" disabled style="width: 100%" >
                    <i class="fa fa-search icon"></i>
                  </div>
                </label>
              </div>
            </section>
            <section class="col col-6 margin-bottom-20" style="display: inline-flex !important;">
              <label class="label col-md-3" style="width:20%">{{'WORK_ORDER_NO' | i18n}}</label>
              <div style="display: inline-flex !important; width:73%">
                <label class="input input-group state-disabled col-md-7" style="display: table !important;">
                  <div (click)="showSearchWorkOrderNoPopup()">
                    <input type="text" class="main text-center" id="woNo" name="woNo" [(ngModel)]="inboundStyleHeaderModel.woNo" disabled>
                    <i class="fa fa-search icon"></i>
                  </div>
                </label>
                <label class="input state-disabled col-md-5" style="padding-left: 15px;">
                  <input type="text" id="orderType" name="orderType" value="{{this.orderType}}" disabled style="width: 100%; text-align: center;" />
                </label>
              </div>
            </section>
            <div class="clearfix"></div>
            <section class="col col-6 margin-bottom-20">
              <label class="label col-md-3" style="width:23%">{{'SUPPLIER' | i18n}}</label>
              <label class="input col-md-9" style="width:70%">
                <select name="supplierCd " select2 style="width:100%;" class="select2 selectCusomer" 
                        [(ngModel)]="inboundStyleHeaderModel.supplierCd" [defaultVal]="inboundStyleHeaderModel.supplierCd" disabled>
                  <option *ngFor="let item of suppliers" [value]="item.traderid" style="color: black;">{{item.traderlocalnm | i18n}}</option>
                </select>
              </label>
            </section>
            <section class="col col-6 margin-bottom-20">
              <label class="label col-md-3" style="width:20%">{{'LOCATION' | i18n}}</label>
              <label class="input col-md-9" style="width:40.5%">
                <select name="locationGenCd "  select2 style="width:100%;" class="select2" 
                  [(ngModel)]="inboundStyleHeaderModel.locationGenCd" [defaultVal]="inboundStyleHeaderModel.locationGenCd">
                  <option *ngFor="let item of locations" [value]="item.gen_cd">{{item.gen_nm | i18n}}</option>
                </select>
              </label>
            </section>
            <div class="clearfix"></div>
            <section class="col col-6 margin-bottom-20" style="display: inline-flex !important;">
              <label class="label col-md-3" style="width:23%">{{'RECEIPT_QTY' | i18n}}</label>
              <div style="display: inline-flex !important; width:70%">
                <label class="input state-disabled col-md-4">
                  <input type="text" class="price-format" disabled name="inboundQty" [(ngModel)]="inboundStyleHeaderModel.inboundQty"
                    currencyMask [options]="{prefix:'', suffix:'', precision : 0, allowNegative : false }" autocomplete="off" />
                </label>
                <label class="label col-md-2 text-center">{{'Pcs' | i18n}}</label>
                <label class="label col-md-2 text-center">{{'Price' | i18n}}</label>
                <label class="input col-md-4">
                  <input type="text" class="price-format" id="price" name="price" placeholder="0" [(ngModel)]="inboundStyleHeaderModel.price" (ngModelChange)="onChangePrice($event)"
                    currencyMask [options]="{prefix:'', suffix:'', precision : 0, allowNegative : false }" autocomplete="off" />
                </label>
              </div>
            </section>
            <section class="col col-6 margin-bottom-20" style="display: inline-flex !important;">
              <label class="label col-md-3" style="width:20%">{{'AMOUNT' | i18n}}</label>
              <div style="display: inline-flex !important; width:69.5%">
                <label class="input state-disabled col-md-7">
                  <input type="text" class="price-format" disabled name="amount" [(ngModel)]="inboundStyleHeaderModel.amount" 
                    currencyMask [options]="{prefix:'', suffix:'', precision : 0, allowNegative : false }" autocomplete="off" />
                </label>
              </div>
            </section>
          </section>
          <section class="col-md-5">
            <section class="col col-8 margin-bottom-20">
              <label class="label col-md-2">{{'STYLE_NO' | i18n}}</label>
              <label class="input col-md-5 state-disabled">
                <input class="extra text-center" name="styleName" value="{{styleName}}" disabled type="text"
                  autocomplete="off" />
              </label>
              <label class="input col-md-5 state-disabled" style="left: 5%;">
                <input class="extra text-center" name="buyerName" value="{{buyerName}}" disabled type="text"
                  autocomplete="off" />
              </label>
            </section>
            <section class="col col-4 margin-bottom-20">
              <label class="label col-md-3" style="visibility: hidden;width:30%"></label>
              <label class="input col-md-9 state-disabled" style="width:70%">
                <input class="extra text-center" name="creator" value="{{inboundStyleHeaderModel.creator}}" disabled type="text"
                  autocomplete="off" />
              </label>
            </section>
            <div class="clearfix"></div>
            <section class="col col-6 margin-bottom-20">
              <label class="label col-md-3" style="width:22.5%">{{'PROCESS' | i18n}}</label>
              <label class="input col-md-9" style="width:58%">
                <select name="processGenCd " select2 style="width:100%;" class="select2" 
                  [(ngModel)]="inboundStyleHeaderModel.processGenCd" [defaultVal]="inboundStyleHeaderModel.processGenCd" >
                  <option *ngFor="let item of processes" [value]="item.gen_cd">{{item.gen_nm | i18n}}</option>
                </select>
              </label>
            </section>
            <section class="col col-1 margin-bottom-20"></section>
            <section class="col col-5 margin-bottom-20">
              <label class="label col-md-4" style="width: 46%;">{{'BUYER_PO_NO' | i18n}}</label>
              <label class="input col-md-8 state-disabled" style="width: 54%;">
                <input type="text" class="main text-center" name="poNo" [value]="inboundStyleHeaderModel.poId === -1 ? '' : inboundStyleHeaderModel.poNo" />
              </label>
            </section>
          </section>
          <section class="col-md-12">
            <section class="col col-md-12 margin-bottom-20">
              <section class="col-md-9">
                <label class="label col-md-1" style="width: 7.55%;">{{'DESCRIPTION' | i18n}}</label>
                <label class="textarea col-md-9" style="width: 76.5%;left: 1%;">
                  <textarea name="remark" rows="1" [(ngModel)]="inboundStyleHeaderModel.remark"></textarea>
                </label>
              </section>
              <section class="col-md-3" style="margin-top: -13px;">
                <button type="button" name="btnCloseProgram" (click)="onCloseProgram()" class="btn btn-cancel">
                  {{'BUTTON-CLOSE' | i18n}}
                </button>
                <button type="button" name=" delete" [disabled]="!inboundStyleHeaderModel.styleInboundNo" (click)="onDelete()" class="btn btn-delete">
                  {{'BUTTON-DELETE' | i18n}}
                </button>
                <button type="button" name=" reset" (click)="onReset()" class="btn btn-reset-form">
                  {{'BUTTON-RESET' | i18n}}
                </button>
                <button type="submit" name="submit" [disabled]="btnSubmitDisabled || !this.permission.canSave" class="btn btn-primary">
                  {{'BUTTON-SAVE' | i18n}}
                </button>
              </section>
            </section>
          </section>
          <section class="col-lg-12">
            <sa-widgets-grid>
              <div class="row">
                <div class="at-smart-table">
                  <section class="col-lg-12 table-bordered">
                    <div class="section-path-route-tables" style="padding: 0;min-width: 300px; overflow: auto;">
                      <ng2-smart-table class="table table-striped table-condensed table-hover" tableClass="tableInboundStyleDetail" [source]="source"
                        (createConfirm)="createConfirm($event)" (editConfirm)="updateConfirm($event)" (deleteConfirm)="deleteConfirm($event)"
                        id="process-path-route-table" [settings]="settingsInboundStyleComponent">
                      </ng2-smart-table>
                    </div>
                  </section>
                </div>
              </div>
            </sa-widgets-grid>
          </section>
        </div>
      </div>
    </fieldset>
  </form>
</div>
<ng-template #popupSearchWorkOrderNo>
  <sa-popup-modal headerTitle="Work Order No Search" width="70%" height="400" (onClose)="closeSearchWorkOrderNoPopup()">
    <sa-work-order-no-popup (childCallWo)="getWorkOrderNoSelected($event)" traderList="{{traderList|json}}" sampSteps="{{sampSteps|json}}" checkTypePopup="SELECT_ONE">
    </sa-work-order-no-popup>
  </sa-popup-modal>
</ng-template>

<ng-template #popupSearchInboundStyleHeader>
  <sa-popup-modal headerTitle="Work Order No Search" width="85%" height="400" (onClose)="closeSearchInboundStyleHeaderPopup()">
    <sa-inbound-style-header-popup (childCall)="getInboundStyleHeaderSelected($event)" suppliers="{{suppliers|json}}" locations="{{locations|json}}" processes={{processes|json}}>
    </sa-inbound-style-header-popup>
  </sa-popup-modal>
</ng-template>